# Generated by Django 5.2.4 on 2025-10-17 19:25

import django.db.models.deletion
import uuid
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('core', '0001_initial'),
        ('papers', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='FinishingService',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(help_text="Name of the service, e.g., 'Matt Lamination', 'Saddle-Stitch Binding'.", max_length=100)),
                ('pricing_method', models.CharField(choices=[('SIMPLE', 'Simple Price'), ('TIERED', 'Tiered by Quantity')], default='SIMPLE', help_text="Choose 'Simple' for a single price or 'Tiered' for quantity-based price brackets.", max_length=10)),
                ('calculation_method', models.CharField(choices=[('PER_SHEET_SINGLE', 'Per Sheet (Single Side)'), ('PER_SHEET_DOUBLE', 'Per Sheet (Double Sided)'), ('PER_ITEM', 'Per Final Item'), ('PER_SQ_METER', 'Per Square Meter')], help_text='How the price is applied (e.g., per sheet, per item).', max_length=20)),
                ('simple_price', models.DecimalField(blank=True, decimal_places=2, help_text="The price for this service if using the 'Simple' pricing method.", max_digits=10, null=True)),
                ('currency', models.CharField(default='KES', max_length=10)),
                ('minimum_charge', models.DecimalField(decimal_places=2, default=0, help_text='The minimum total price for this service on a job.', max_digits=10)),
                ('company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='finishing_services', to='core.printcompany')),
            ],
            options={
                'verbose_name': 'Finishing Service',
                'verbose_name_plural': 'Finishing Services',
                'unique_together': {('company', 'name')},
            },
        ),
        migrations.CreateModel(
            name='Machine',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(help_text="A recognizable name for the machine, e.g., 'HP Indigo' or 'Main Laminator'.", max_length=100)),
                ('machine_type', models.CharField(choices=[('DIGITAL', 'Digital Press'), ('OFFSET', 'Offset Press'), ('SCREEN', 'Screen Printer'), ('LARGE_FORMAT', 'Large Format Printer'), ('UV_DTF', 'UV DTF Printer'), ('UV_FLA', 'UV Flatbed Printer'), ('FLATBED', 'Flatbed Printer'), ('LASER', 'Laser Printer'), ('ROUTER', 'Router Printer'), ('LAMINATOR', 'Lamination Machine'), ('UV', 'UV Lamination Machine'), ('BINDING', 'Binding Machine'), ('CUTTER', 'Cutter'), ('FINISHING', 'Finishing Machine'), ('OTHER', 'Other')], default='DIGITAL', max_length=50)),
                ('supports_client_custom_size', models.BooleanField(default=False, verbose_name='Supports custom sizes')),
                ('company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='machine_finishing_services', to='core.printcompany')),
                ('supported_sizes', models.ManyToManyField(blank=True, related_name='supported_machines', to='papers.productionpapersize', verbose_name='Supported standard sizes')),
            ],
            options={
                'verbose_name': 'Machine',
                'verbose_name_plural': 'Machines',
                'unique_together': {('company', 'name')},
            },
        ),
    ]
